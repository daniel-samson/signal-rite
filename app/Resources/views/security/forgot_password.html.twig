{% extends 'unauthorised.html.twig' %}

{% block title %}Forgot Password - Signal Rite{% endblock %}

{% block body %}
<div class="auth-container">
    <div class="auth-header">
        <h1>Forgot Password</h1>
        <p>Enter your email and we'll send you a reset link.</p>
    </div>

    {% if success %}
        <div class="alert alert--success">
            If an account exists with that email, you will receive a password reset link shortly.
        </div>
        <div class="form-footer">
            <a href="{{ path('login') }}">Back to Sign In</a>
        </div>
    {% else %}
        {% for message in app.flashes('error') %}
            <div class="alert alert--error">
                {{ message }}
            </div>
        {% endfor %}

        <form class="form" method="post" novalidate>
            <div class="form-group{% if errors.email is defined %} has-error{% endif %}">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" required autofocus>
                {% if errors.email is defined %}
                    <span class="form-error">{{ errors.email }}</span>
                {% endif %}
            </div>

            <div class="form-actions">
                <button type="submit" class="variant--primary">Send Reset Link</button>
            </div>

            <div class="form-footer">
                <a href="{{ path('login') }}">Back to Sign In</a>
            </div>
        </form>
    {% endif %}
</div>
{% endblock %}
